(this["webpackJsonpstar-wars-client"]=this["webpackJsonpstar-wars-client"]||[]).push([[0],{246:function(e,t,a){},250:function(e,t,a){},366:function(e,t,a){"use strict";a.r(t);var r,n,c=a(0),s=a.n(c),i=a(14),o=a.n(i),l=a(72),j=a(429),d=a(97),b=a(48),h=(a(245),a(246),a(23)),x=a(76),u=a(25),O=a(407),p=a(414),m=a(411),g=a(409),f=a(412),v=a(416),P=a(370),y=a(417),w=a(432),S=a(413),N=a(203),C=a.n(N),k=a(146),B=a.n(k),T=a(147),I=a.n(T),A=a.p+"static/media/star-wars-4.3bf2a05e.svg",z=a(4),L=Object(O.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},content:{flexGrow:1,padding:e.spacing(3)},toolbar:e.mixins.toolbar,title:{flexGrow:1},menuItemContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center"}}})),E=function(e){var t=e.children,a=Object(h.f)(),r=Object(c.useState)(!1),n=Object(u.a)(r,2),s=n[0],i=n[1],o=Object(c.useState)(null),l=Object(u.a)(o,2),j=l[0],d=(l[1],Boolean(j),L());return Object(z.jsxs)("div",{className:d.root,children:[Object(z.jsx)(g.a,{}),Object(z.jsx)(m.a,{position:"fixed",className:d.appBar,children:Object(z.jsxs)(f.a,{children:[Object(z.jsx)(w.a,{mdUp:!0,children:Object(z.jsx)(S.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(){i(!s)},children:Object(z.jsx)(C.a,{})})}),Object(z.jsx)("img",{src:A,alt:"Logo",width:"150",height:"55"})]})}),Object(z.jsx)(w.a,{smUp:!0,children:Object(z.jsxs)(p.a,{open:s,onClose:function(){i(!1)},className:d.drawer,variant:"temporary",classes:{paper:d.drawerPaper},style:{zIndex:1099},children:[Object(z.jsx)("div",{className:d.toolbar}),Object(z.jsx)(v.a,{onClick:function(){i(!1),a.push("/")},children:Object(z.jsxs)("div",{className:d.menuItemContainer,children:[Object(z.jsx)("div",{children:Object(z.jsx)(P.a,{children:Object(z.jsx)(B.a,{})})}),Object(z.jsx)("div",{children:Object(z.jsx)(y.a,{primary:"People"})})]})}),Object(z.jsx)(v.a,{onClick:function(){i(!1),a.push("/about")},children:Object(z.jsxs)("div",{className:d.menuItemContainer,children:[Object(z.jsx)("div",{children:Object(z.jsx)(P.a,{children:Object(z.jsx)(I.a,{})})}),Object(z.jsx)("div",{children:Object(z.jsx)(y.a,{primary:"About"})})]})})]})}),Object(z.jsx)(w.a,{smDown:!0,children:Object(z.jsxs)(p.a,{className:d.drawer,variant:"permanent",classes:{paper:d.drawerPaper},children:[Object(z.jsx)("div",{className:d.toolbar}),Object(z.jsx)(v.a,{onClick:function(){i(!1),a.push("/")},children:Object(z.jsxs)("div",{className:d.menuItemContainer,children:[Object(z.jsx)("div",{children:Object(z.jsx)(P.a,{component:"div",children:Object(z.jsx)(B.a,{})})}),Object(z.jsx)("div",{children:Object(z.jsx)(y.a,{primary:"People"})})]})}),Object(z.jsx)(v.a,{onClick:function(){i(!1),a.push("/about")},children:Object(z.jsxs)("div",{className:d.menuItemContainer,children:[Object(z.jsx)("div",{children:Object(z.jsx)(P.a,{children:Object(z.jsx)(I.a,{})})}),Object(z.jsx)("div",{children:Object(z.jsx)(y.a,{primary:"About"})})]})})]})}),Object(z.jsxs)("main",{className:d.content,children:[Object(z.jsx)("div",{className:d.toolbar}),t]})]})},W=(a(250),a(47)),R=a(204),U=a.n(R),q=function(e){return function(t){return Object(z.jsx)(U.a,{transitionAppear:!0,transitionAppearTimeout:600,transitionEnterTimeout:600,transitionLeaveTimeout:200,transitionName:"slide",children:Object(z.jsx)(e,Object(W.a)({},t))})}},F=a(148),H=a(150),M=a(420),V=a(430),$=a(423),G=a(433),D=a(213),J=a.n(D),Q=a(214),_=a.n(Q),K=a(125),X=a(421),Y=a(424),Z=a(425),ee=a(426),te=a(427),ae=a(428),re=a(434),ne=a(216),ce=a.n(ne),se=a(212),ie=a.n(se),oe=a(60),le=a(219),je=a(124),de=d.c,be=function(e,t){return"success"===e?x.b.success(t,{position:x.b.POSITION.TOP_CENTER,hideProgressBar:!0,toastId:19}):"error"===e?x.b.error(t,{position:x.b.POSITION.TOP_CENTER,hideProgressBar:!0,toastId:20}):void 0},he=a(418),xe=a(419),ue=a(369),Oe=a(431),pe=a.p+"static/media/Rolling-1s-200px.7d5a1523.svg",me=s.a.forwardRef((function(e,t){return Object(z.jsx)(ue.a,Object(W.a)({direction:"up",ref:t},e))})),ge=function(e){var t=e.open;return Object(z.jsx)("div",{children:Object(z.jsx)(he.a,{open:t,TransitionComponent:me,keepMounted:!0,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:Object(z.jsx)(xe.a,{children:Object(z.jsxs)(Oe.a,{alignItems:"center",children:[Object(z.jsx)("img",{src:pe,alt:"Logo"}),Object(z.jsx)("p",{style:{textAlign:"center",color:"#2F2F4F",fontSize:"20px"},children:"Please wait..."})]})})})})},fe=a(84),ve=Object(fe.b)({name:"person",initialState:{person:{}},reducers:{setPerson:function(e,t){var a=t.payload;e.person=a}}}),Pe=ve.actions.setPerson,ye=function(e){return e.person},we=ve.reducer,Se={people:[],searchStateParameters:{searchBy:"All",searchTerm:"",total:0,pageSize:10,numberOfPages:0,currentPage:1,nextPage:void 0,nextPageUrl:null,previousPage:void 0}},Ne=Object(fe.b)({name:"people",initialState:Se,reducers:{setSearchBy:function(e,t){var a=t.payload;e.searchStateParameters.searchBy=a},setSearchTerm:function(e,t){var a=t.payload;e.searchStateParameters.searchTerm=a},setTotal:function(e,t){var a=t.payload;e.searchStateParameters.total=a},setPageSize:function(e,t){var a=t.payload;e.searchStateParameters.pageSize=a},setNumberOfPages:function(e,t){var a=t.payload;e.searchStateParameters.numberOfPages=a},setCurrentPage:function(e,t){var a=t.payload;e.searchStateParameters.currentPage=a},setNextPage:function(e,t){var a=t.payload;e.searchStateParameters.nextPage=a},setNextPageUrl:function(e,t){var a=t.payload;e.searchStateParameters.nextPageUrl=a},setPreviousPage:function(e,t){var a=t.payload;e.searchStateParameters.previousPage=a},getPeopleSuccess:function(e,t){var a=t.payload;e.people=a}}}),Ce=Ne.actions,ke=Ce.setSearchBy,Be=Ce.setSearchTerm,Te=Ce.setTotal,Ie=Ce.setNumberOfPages,Ae=(Ce.setPageSize,Ce.setCurrentPage),ze=Ce.setNextPage,Le=Ce.setNextPageUrl,Ee=Ce.setPreviousPage,We=Ce.getPeopleSuccess,Re=function(e){return e.people},Ue=Ne.reducer,qe=je.a().shape({searchBy:je.b().required("Required"),characterName:je.b()}),Fe=Object(b.gql)(r||(r=Object(F.a)(["\n  query($page: Float!) {\n    getPeople(page: $page) {\n      count\n      next\n      previous\n      results {\n        name\n        height\n        mass\n        gender\n        homeworld\n      }\n    }\n  }\n"]))),He=Object(b.gql)(n||(n=Object(F.a)(["\n  query($name: String!) {\n    getPerson(name: $name) {\n      count\n      next\n      previous\n      results {\n        name\n        height\n        mass\n        gender\n        homeworld\n      }\n    }\n  }\n"]))),Me=["All","Name"],Ve=function(){var e=Object(d.b)(),t=Object(h.f)(),a=de(Re),r=a.people,n=a.searchStateParameters,c=n.searchBy,s=n.searchTerm,i=n.currentPage,o=n.total,l=n.numberOfPages,j=n.previousPage,x=n.nextPage,O=(n.nextPageUrl,Object(oe.e)({mode:"onTouched",resolver:Object(le.a)(qe),defaultValues:{searchBy:c,characterName:s}})),p=(O.register,O.handleSubmit),m=O.formState,g=m.errors,f=(m.touchedFields,O.setValue,O.control),P=(0,O.watch)("searchBy"),y=Object(b.useLazyQuery)(Fe,{onCompleted:function(t){if(0!==t.getPeople.results.length){if(e(Te(t.getPeople.count)),e(Ie(Math.ceil(t.getPeople.count/10))),null!==t.getPeople.next){var a=t.getPeople.next.split("="),r=a[a.length-1];e(ze(parseInt(r)))}if(e(Le(t.getPeople.next)),null===t.getPeople.next&&e(ze(void 0)),null!==t.getPeople.previous){var n=t.getPeople.previous.split("="),c=n[n.length-1];e(Ee(parseInt(c)))}null===t.getPeople.previous&&e(Ee(void 0)),e(We(t.getPeople.results))}else be("error","No characters found!")},onError:function(e){be("error",e.networkError.result.errors[0].message)}}),w=Object(u.a)(y,2),N=w[0],C=w[1].loading,k=Object(b.useLazyQuery)(He,{onCompleted:function(t){0!==t.getPerson.results.length?e(We(t.getPerson.results)):be("error","No character found!")},onError:function(e){console.log(e),be("error",e.networkError.result.errors[0].message)}}),B=Object(u.a)(k,2),T=B[0],I=B[1].loading,A=function(){N({variables:{page:i}})},L=function(t){e(Ae(t)),N({variables:{page:t}})};return Object(z.jsx)("div",{children:Object(z.jsx)(M.a,{container:!0,children:Object(z.jsx)(M.a,{item:!0,xs:12,lg:8,children:Object(z.jsxs)(H.a,{children:[Object(z.jsx)(K.a,{variant:"h6",style:{marginLeft:15,marginRight:15},children:"Stars Wars Characters"}),Object(z.jsx)(X.a,{style:{marginLeft:15,marginRight:15}}),Object(z.jsx)("form",{onSubmit:p((function(t){if(e(ke(t.searchBy)),e(Be(t.characterName)),"All"===t.searchBy)return A();if("Name"!==t.searchBy)var a;else""!==(a=t.characterName)?T({variables:{name:a}}):be("error","Please enter name to proceed")})),style:{margin:15},noValidate:!0,children:Object(z.jsxs)(M.a,{container:!0,spacing:2,children:[Object(z.jsx)(M.a,{item:!0,xs:4,children:Object(z.jsx)(oe.a,{name:"searchBy",render:function(e){var t,a=e.field;return Object(z.jsx)(V.a,Object(W.a)(Object(W.a)({label:"Search By",select:!0,helperText:null===(t=g.searchBy)||void 0===t?void 0:t.message,variant:"outlined",size:"small",defaultValue:"All",fullWidth:!0},a),{},{children:Me.map((function(e){return Object(z.jsx)(v.a,{value:e,children:e},e)}))}))},control:f})}),"Name"===P&&Object(z.jsx)(M.a,{item:!0,xs:4,children:Object(z.jsx)(oe.a,{name:"characterName",render:function(e){var t,a=e.field;return Object(z.jsx)(V.a,Object(W.a)({label:"Name",helperText:null===(t=g.characterName)||void 0===t?void 0:t.message,variant:"outlined",size:"small",inputProps:{maxLength:200},fullWidth:!0},a))},control:f})}),Object(z.jsx)(M.a,{item:!0,xs:2,children:Object(z.jsx)($.a,{type:"submit",variant:"contained",color:"primary",style:{textTransform:"none",marginTop:2},startIcon:Object(z.jsx)(ie.a,{}),children:"Search"})})]})}),Object(z.jsx)("br",{}),Object(z.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",margin:15},children:[0!==o&&"All"===P&&Object(z.jsx)(G.a,{label:"Total Results: ".concat(o," | Page ").concat(i," of ").concat(l),color:"secondary"}),"All"===P&&0!==l&&Object(z.jsxs)("div",{style:{marginTop:-5},children:[Object(z.jsx)(S.a,{color:"primary","aria-label":"previous page",component:"span",disabled:void 0===j,onClick:function(){return L(j)},children:Object(z.jsx)(J.a,{})}),Object(z.jsx)(S.a,{color:"primary","aria-label":"previous page",component:"span",disabled:void 0===x,onClick:function(){return L(x)},children:Object(z.jsx)(_.a,{})})]})]}),Object(z.jsxs)(Y.a,{children:[Object(z.jsx)(Z.a,{children:Object(z.jsxs)(ee.a,{children:[Object(z.jsx)(te.a,{children:"Name"}),Object(z.jsx)(te.a,{children:"Gender"}),Object(z.jsx)(te.a,{children:"Height"}),Object(z.jsx)(te.a,{children:"Mass"}),Object(z.jsx)(te.a,{children:"Homeworld"}),Object(z.jsx)(te.a,{children:"Actions"})]})}),Object(z.jsx)(ae.a,{children:r.map((function(a,r){return Object(z.jsxs)(ee.a,{children:[Object(z.jsx)(te.a,{component:"th",scope:"row",children:a.name}),Object(z.jsx)(te.a,{children:a.gender}),Object(z.jsx)(te.a,{children:a.height}),Object(z.jsx)(te.a,{children:a.mass}),Object(z.jsx)(te.a,{children:a.homeworld}),Object(z.jsx)(te.a,{children:Object(z.jsx)(re.a,{title:"View person detail",placement:"top",arrow:!0,children:Object(z.jsx)(S.a,{"aria-label":"view",color:"primary",onClick:function(){return e(Pe(a)),void t.push("/person-detail")},children:Object(z.jsx)(ce.a,{})})})})]},r)}))})]}),Object(z.jsx)(ge,{open:C||I})]})})})})},$e=a(121),Ge=a.n($e),De=function(){var e=Object(h.f)(),t=de(ye).person;return Object(z.jsx)(M.a,{container:!0,children:Object(z.jsxs)(M.a,{item:!0,xs:12,lg:6,children:[Object(z.jsx)($.a,{variant:"contained",color:"primary",startIcon:Object(z.jsx)(Ge.a,{}),style:{marginLeft:0,textTransform:"none"},onClick:function(){e.goBack()},children:"Back"}),Object(z.jsxs)(H.a,{children:[Object(z.jsxs)("div",{style:{margin:15},children:[Object(z.jsx)(K.a,{variant:"h6",children:"Star Wars Character Detail"}),Object(z.jsx)(X.a,{}),Object(z.jsx)("br",{}),Object(z.jsxs)("div",{style:{borderLeft:"25px solid #34545c",backgroundColor:"#A0AFB7",padding:"5px"},children:[Object(z.jsxs)("p",{children:[Object(z.jsx)("b",{children:"Name:"})," ",t.name]}),Object(z.jsxs)("p",{children:[Object(z.jsx)("b",{children:"Height:"})," ",t.height]}),Object(z.jsxs)("p",{children:[Object(z.jsx)("b",{children:"Mass:"})," ",t.mass]}),Object(z.jsxs)("p",{children:[Object(z.jsx)("b",{children:"Gender:"})," ",t.gender]}),Object(z.jsxs)("p",{children:[Object(z.jsx)("b",{children:"Home World:"})," ",t.homeworld]})]})]}),Object(z.jsx)("br",{})]})]})})},Je=function(){var e=Object(h.f)();return Object(z.jsx)(M.a,{container:!0,children:Object(z.jsxs)(M.a,{item:!0,xs:12,lg:6,children:[Object(z.jsx)($.a,{variant:"contained",color:"primary",startIcon:Object(z.jsx)(Ge.a,{}),style:{marginLeft:0,textTransform:"none"},onClick:function(){e.goBack()},children:"Back"}),Object(z.jsx)(H.a,{children:Object(z.jsxs)("div",{style:{margin:15},children:[Object(z.jsx)(K.a,{variant:"h6",children:"Introduction"}),Object(z.jsx)(X.a,{}),Object(z.jsx)("br",{}),Object(z.jsx)("p",{style:{borderLeft:"25px solid #34545c",backgroundColor:"#A0AFB7",padding:"5px"},children:"This Star Wars app provides a way to retrieve detailed information about characters of the Star Wars Universe. It lists all Star Wars characters and details of each individual character. One can search for a particular character using the character's name."}),Object(z.jsx)("br",{})]})})]})})};var Qe=function(){return Object(z.jsxs)(E,{children:[Object(z.jsx)(x.a,{}),Object(z.jsxs)(h.c,{children:[Object(z.jsx)(h.a,{exact:!0,path:"/",component:q(Ve)}),Object(z.jsx)(h.a,{path:"/person-detail",component:q(De)}),Object(z.jsx)(h.a,{path:"/about",component:q(Je)})]})]})},_e=Object(fe.a)({reducer:{people:Ue,person:we}}),Ke=a(218),Xe=a(123),Ye=Object(Ke.a)({palette:{primary:{main:"#34545c"},secondary:{main:"#19857b"},error:{main:Xe.a.A400},background:{default:"#fff"}}}),Ze=a(217),et=Object(b.createHttpLink)({uri:"http://localhost:7000/graphql"}),tt=Object(Ze.a)((function(e,t){var a=t.headers,r=localStorage.getItem("token");return{headers:Object(W.a)(Object(W.a)({},a),{},{authorization:r?"Bearer ".concat(r):""})}})),at=new b.ApolloClient({link:tt.concat(et),cache:new b.InMemoryCache});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(z.jsx)(j.a,{theme:Ye,children:Object(z.jsx)(b.ApolloProvider,{client:at,children:Object(z.jsx)(d.a,{store:_e,children:Object(z.jsx)(l.a,{children:Object(z.jsx)(Qe,{})})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[366,1,2]]]);
//# sourceMappingURL=main.19b0cd07.chunk.js.map